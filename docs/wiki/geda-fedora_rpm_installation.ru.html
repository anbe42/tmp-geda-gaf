<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title></title>
  <link rel="stylesheet" media="screen" type="text/css" href="./style.css" />
  <link rel="stylesheet" media="screen" type="text/css" href="./design.css" />
  <link rel="stylesheet" media="print" type="text/css" href="./print.css" />

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>


<h1 class="sectionedit1521"><a name="установка_rpm-пакетов_geda_в_fedora" id="установка_rpm-пакетов_geda_в_fedora">Установка rpm-пакетов gEDA в Fedora</a></h1>
<div class="level1">

<p>
Приложения gEDA/gaf доступны в официальных репозиториях дистрибутива
Fedora.  Пакеты для Fedora поддерживает <em>Chitlesh Goorah</em>.
</p>

</div>
<!-- EDIT1521 SECTION "Установка rpm-пакетов gEDA в Fedora" [1-276] -->
<h2 class="sectionedit1522"><a name="установка_из_репозиториев_дистрибутива_fedora" id="установка_из_репозиториев_дистрибутива_fedora">Установка из репозиториев дистрибутива Fedora</a></h2>
<div class="level2">

<p>
Выпуски gEDA/gaf в Fedora рекомендуется устанавливать с помощью
<strong>yum</strong> или <strong>pirut</strong>. <strong>pirut</strong> (обозначенный в меню как <strong><em>Добавить/Удалить
программы</em></strong>) — это графический интерфейс для <strong>yum</strong>.
</p>
<pre class="code">yum install geda\* pcb gerbv</pre>

<p>
Примечание: для установки пакетов нужно иметь права <code>root</code> (<strong><code>su -</code></strong>).
</p>

<p>
Пакетирование и синхронизация с зеркалами Fedora для каждого выпуска
gEDA/gaf занимает от одного до двух дней. Если кажется, что выпуск
отсутствует, можно заполнить отчёт об ошибке (запрос на улучшение,
RFE<sup><a href="#fn__1" name="fnt__1" id="fnt__1" class="fn_top">1)</a></sup>) на странице
<a href="http://bugzilla.redhat.com" class="urlextern" title="http://bugzilla.redhat.com"  rel="nofollow">Fedora&#039;s bugzilla</a> с просьбой обновить для вас
gEDA/gaf.
</p>

<p>
Вы можете отслеживать:
</p>
<ul>
<li class="level1"><div class="li"> выпуски в <a href="http://clunixchit.blogspot.com" class="urlextern" title="http://clunixchit.blogspot.com"  rel="nofollow">блоге Chitlesh Goorah</a> или</div>
</li>
<li class="level1"><div class="li"> времена сборки gEDA/gaf в <a href="http://koji.fedoraproject.org/koji/builds?userID=159" class="urlextern" title="http://koji.fedoraproject.org/koji/builds?userID=159"  rel="nofollow">системе сборки Fedora</a></div>
</li>
</ul>

</div>
<!-- EDIT1522 SECTION "Установка из репозиториев дистрибутива Fedora" [277-1634] -->
<h3 class="sectionedit1523"><a name="самостоятельное_компилирование" id="самостоятельное_компилирование">Самостоятельное компилирование</a></h3>
<div class="level3">

<p>
Если вам хочется заняться грязной работой и собрать gEDA/gaf для
Fedora, то вам нужно установить зависимости, перечисленные в файле
<em><code>README</code></em> gEDA/gaf. Их можно установить с помощью <strong>yum</strong>:
</p>
<pre class="code">yum install libstroke-devel groff autoconf gtk2-devel gd-devel gettext-devel guile-devel</pre>

</div>
<!-- EDIT1523 SECTION "Самостоятельное компилирование" [1635-2115] -->
<h3 class="sectionedit1524"><a name="пересборка_своих_собственных_rpm-пакетов" id="пересборка_своих_собственных_rpm-пакетов">Пересборка своих собственных RPM-пакетов</a></h3>
<div class="level3">

<p>
Проект Fedora предоставляет простые средства для пересборки любых
RPM-пакетов из SRPM-пакетов. SRPM содержит версии исходных текстов программ от
разработчиков, <acronym title="specification">spec</acronym>-файл и необходимые заплаты (если они вообще есть).
</p>

<p>
Чтобы иметь возможность собирать RPM-пакеты, вам нужна сборочная платформа,
для которой <strong>НЕ</strong> требуется доступ с правами <code>root</code>. <strong>rpmdevtools</strong>
предоставляет для этого необходимые инструменты.
</p>
<pre class="code">yum install rpmdevtools</pre>

</div>

<h4><a name="сборочная_платформа" id="сборочная_платформа">Сборочная платформа</a></h4>
<div class="level4">

<p>
Сборочная платформа должна собираться НЕ из-под учётной записи <code>root</code>.
</p>
<pre class="code">fedora-buildrpmtree</pre>

<p>
Вы увидите в своём домашнем каталоге каталог <code>rpmbuild</code>. Этот каталог и
будет вашей сборочной платформой.
</p>

</div>

<h4><a name="как_получить_srpm-пакеты" id="как_получить_srpm-пакеты">Как получить SRPM-пакеты</a></h4>
<div class="level4">

<p>
Fedora предоставляет SRPM для каждого пакета дистрибутива. Эти SRPM-пакеты
можно загрузить с помощью программы <strong>yumdownloader</strong> из пакета <strong>yum-utils</strong>.
Запустите:
</p>
<pre class="code">yum install yum-utils</pre>

<p>
если пакет <strong>yum-utils</strong> ещё не установлен у вас.
</p>

<p>
Загрузите SRPM-пакет <strong>geda-gaf</strong> (НЕ из-под <code>root</code>) командой:
</p>
<pre class="code">yumdownloader --source geda-gaf</pre>

<p>
Как только загрузка закончена, в текущем каталоге можно будет найти пакет
<em><code>geda-gaf-%{version}-%{dist}.src.rpm</code></em>, где <code>%{version}</code> — текущая
версия пакета gEDA/gaf в Fedora, а <code>%{dist}</code> — текущая версия
Fedora.  Например, SRPM gEDA/gaf для Fedora 14 называется
<em><code>geda-gaf-1.6.1-1.fc14.src.rpm</code></em>.
</p>

<p>
<acronym title="specification">spec</acronym>-файл, исходные тексты программ разработчиков и патчи для дистрибутива
можно извлечь из SRPM с помощью:
</p>
<pre class="code">rpm -ivh geda-gaf-%{version}-%{dist}.src.rpm</pre>

<p>
(Я повторяю, это никогда не должно запускаться из-под <code>root</code>!)
</p>

<p>
Вы увидите, что
</p>
<ul>
<li class="level1"><div class="li"> <acronym title="specification">spec</acronym>-файлы будут установлены в <em><code>rpmbuild/SPECS</code></em></div>
</li>
<li class="level1"><div class="li"> исходные тексты, патчи и файлы рабочего стола будут установлены в <em><code>rpmbuild/SOURCES</code></em></div>
</li>
</ul>

</div>

<h4><a name="сборка_новых_rpm-пакетов_из_новых_исходных_текстов_программ" id="сборка_новых_rpm-пакетов_из_новых_исходных_текстов_программ">Сборка новых RPM-пакетов из новых исходных текстов программ</a></h4>
<div class="level4">

<p>
Сначала:
</p>
<ol>
<li class="level1"><div class="li"> Загрузите новые исходные тексты, как описано в предыдущем разделе.</div>
</li>
<li class="level1"><div class="li"> Отредактируйте <em><code>rpmbuild/SPECS/%{name}.<acronym title="specification">spec</acronym></code></em></div>
<ol>
<li class="level2"><div class="li"> Измените тег <code>version</code></div>
</li>
<li class="level2"><div class="li"> Измените тег <code>release</code></div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> Внесите другие нужные вам изменения</div>
</li>
</ol>

<p>
Когда предыдущие шаги завершены, можно скомпилировать новые RPM-пакеты:
</p>
<pre class="code">cd $HOME/rpmbuild/SPECS/
rpmbuild -ba %{name}.spec</pre>

<p>
Успешно собранные RPM-пакеты можно найти в <em><code>$HOME/rpmbuild/RPMS/</code></em>,
а соответствующие SRPM — в <em><code>$HOME/rpmbuild/SRPMS</code></em>.
</p>

</div>
<!-- EDIT1524 SECTION "Пересборка своих собственных RPM-пакетов" [2116-] --><div class="footnotes">
<div class="fn"><sup><a href="#fnt__1" id="fn__1" name="fn__1" class="fn_bot">1)</a></sup> 
Request for Enhancement</div>
</div>
</body>
</html>
