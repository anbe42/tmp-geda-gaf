<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title></title>
  <link rel="stylesheet" media="screen" type="text/css" href="./style.css" />
  <link rel="stylesheet" media="screen" type="text/css" href="./design.css" />
  <link rel="stylesheet" media="print" type="text/css" href="./print.css" />

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>


<h1 class="sectionedit330"><a name="установка_rpm-пакетов_geda_в_suse" id="установка_rpm-пакетов_geda_в_suse">Установка rpm-пакетов gEDA в SuSE</a></h1>
<div class="level1">

</div>
<!-- EDIT330 SECTION "Установка rpm-пакетов gEDA в SuSE" [1-67] -->
<h2 class="sectionedit331"><a name="доступные_rpm-пакеты" id="доступные_rpm-пакеты">Доступные rpm-пакеты</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> geda (1.6.1)</div>
</li>
<li class="level1"><div class="li"> gerbv (2.3.0)</div>
</li>
<li class="level1"><div class="li"> pcb (20091103)</div>
</li>
<li class="level1"><div class="li"> ng-spice-rework (20)</div>
</li>
<li class="level1"><div class="li"> gnucap (0.35)</div>
</li>
<li class="level1"><div class="li"> gspiceui (0.9.98)</div>
</li>
<li class="level1"><div class="li"> gwave (20090213)</div>
</li>
<li class="level1"><div class="li"> gtkwave (3.3.3)</div>
</li>
<li class="level1"><div class="li"> dinotrace (9.4a)</div>
</li>
<li class="level1"><div class="li"> verilog (0.9.1)</div>
</li>
<li class="level1"><div class="li"> wcalc (1.1)</div>
</li>
<li class="level1"><div class="li"> xgsch2pcb (0.1.3)</div>
</li>
<li class="level1"><div class="li"> electronics-menu (1.0)</div>
</li>
</ul>

</div>
<!-- EDIT331 SECTION "Доступные rpm-пакеты" [68-383] -->
<h2 class="sectionedit332"><a name="установка_пакетов_из_службы_сборки_suse" id="установка_пакетов_из_службы_сборки_suse">Установка пакетов из Службы Сборки SuSE</a></h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> Запустите <strong>Yast</strong> и перейдите к <strong><em>Изменить источник установки</em></strong></div>
</li>
<li class="level1"><div class="li"> Добавьте <acronym title="Hyper Text Transfer Protocol">HTTP</acronym>-источник со следующими свойствами</div>
<ul>
<li class="level2"><div class="li"> <strong>Servername:</strong> software.opensuse.org</div>
</li>
<li class="level2"><div class="li"> <strong>Directory:</strong> /download/repositories/science/openSUSE_11.0/ (Выберите каталог для своего дистрибутива)</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Запустите в Yast <strong><em>Установить программу</em></strong>, перейдите к <strong><em>Поиску</em></strong> и поищите gEDA. Будут отображены все пакеты.</div>
</li>
<li class="level1"><div class="li"> Установите пакеты как обычно.</div>
</li>
</ol>

<p>
Подробности см. в
<a href="http://en.opensuse.org/Build_Service/User" class="urlextern" title="http://en.opensuse.org/Build_Service/User"  rel="nofollow"> общих замечаниях по установке</a>
на странице <a href="http://en.opensuse.org/Build_Service" class="urlextern" title="http://en.opensuse.org/Build_Service"  rel="nofollow"> Службы Сборки OpenSuSE</a>.
</p>

<p>
Можно также сначала пролистать репозитории:
<a href="http://software.opensuse.org/download/science/openSUSE_11.0/repodata/" class="urlextern" title="http://software.opensuse.org/download/science/openSUSE_11.0/repodata/"  rel="nofollow">репозиторий openSUSE_11.0</a>,
<a href="http://software.opensuse.org/download/science/openSUSE_11.1/repodata/" class="urlextern" title="http://software.opensuse.org/download/science/openSUSE_11.1/repodata/"  rel="nofollow">репозиторий openSUSE_11.1</a>.
<a href="http://software.opensuse.org/download/science/openSUSE_11.2/repodata/" class="urlextern" title="http://software.opensuse.org/download/science/openSUSE_11.2/repodata/"  rel="nofollow">репозиторий openSUSE_11.2</a>.
</p>

</div>
<!-- EDIT332 SECTION "Установка пакетов из Службы Сборки SuSE" [384-1779] -->
<h2 class="sectionedit333"><a name="замечания_для_отдельных_дистрибутивов" id="замечания_для_отдельных_дистрибутивов">Замечания для отдельных дистрибутивов</a></h2>
<div class="level2">

<p>
В каждой из версий дистрибутива есть свои проблемы. См. нижеследующие
замечания.
</p>

</div>
<!-- EDIT333 SECTION "Замечания для отдельных дистрибутивов" [1780-2013] -->
<h3 class="sectionedit334"><a name="opensuse_110" id="opensuse_110">openSUSE 11.0</a></h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> …</div>
</li>
</ul>

</div>
<!-- EDIT334 SECTION "openSUSE 11.0" [2014-2046] -->
<h3 class="sectionedit335"><a name="opensuse_111" id="opensuse_111">openSUSE 11.1</a></h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> В настоящее время нет меню электроники, все программы отображаются в меню <strong><em>Обучение</em></strong> → <strong><em>Наука</em></strong> [<strong><em>Education</em></strong> → <strong><em>Science</em></strong>]</div>
</li>
<li class="level1"><div class="li"> …</div>
</li>
</ul>

</div>
<!-- EDIT335 SECTION "openSUSE 11.1" [2047-2305] -->
<h3 class="sectionedit336"><a name="opensuse_112" id="opensuse_112">openSUSE 11.2</a></h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> В настоящее время нет меню электроники, все программы отображаются в меню <strong><em>Обучение</em></strong> → <strong><em>Наука</em></strong> [<strong><em>Education</em></strong> → <strong><em>Science</em></strong>]</div>
</li>
<li class="level1"><div class="li"> …</div>
</li>
</ul>

</div>
<!-- EDIT336 SECTION "openSUSE 11.2" [2306-2564] -->
<h2 class="sectionedit337"><a name="интеграция_с_рабочим_столом" id="интеграция_с_рабочим_столом">Интеграция с рабочим столом</a></h2>
<div class="level2">

<p>
Это сводка того, как gEDA и другие относящиеся к электронике пакеты
интегрируются в окружение рабочего стола openSUSE.
</p>

</div>
<!-- EDIT337 SECTION "Интеграция с рабочим столом" [2565-2837] -->
<h3 class="sectionedit338"><a name="меню_электроники" id="меню_электроники">Меню электроники</a></h3>
<div class="level3">

<p>
Дистрибутив openSUSE, к сожалению, не предоставляет специального элемента
меню по электронике для набора прекрасных программ gEDA.  Элемент
меню для электроники сделал <em>Peter Clifton</em>. Он находится в rpm-пакете
<strong>electronics-menu</strong>. Пакет содержит элемент меню и несколько иконок для него.
Категория меню в openSUSE называется <strong><em>Edutainment</em></strong> → <strong><em>Electronics</em></strong>.
</p>

<p>
Если этот пакет установлен, то меню будет выглядеть примерно как вот это в <strong>KDE</strong>
(скомбинированное вручную в <strong>gimp</strong>):
</p>

<p>
<a href="media/geda/suse_electronics_menu.png" class="media" target="_blank" title="geda:suse_electronics_menu.png"><img src="media/geda/suse_electronics_menu.png" class="media" alt="" /></a>
</p>

</div>
<!-- EDIT338 SECTION "Меню электроники" [2838-3718] -->
<h3 class="sectionedit339"><a name="замечания_о_spec-файле_rpm-пакета" id="замечания_о_spec-файле_rpm-пакета">Замечания о spec-файле rpm-пакета</a></h3>
<div class="level3">

<p>
В openSUSE после каждой установки rpm-пакетов с помощью <strong>YaST</strong> вызывается
программа <strong>SuSEconfig</strong>. Поэтому интегрировать все конфигурационные вызовы в
разделы rpm <em>post</em> и <em>postun</em> необязательно .
</p>

<p>
Требуются только дополнения для <acronym title="specification">spec</acronym>-файлов, относящиеся к <em>Shared <acronym title="Multipurpose Internet Mail Extension">MIME</acronym> Info</em>. Это
описывается в статье по openSUSE
<a href="http://en.opensuse.org/Packaging/SUSE_Package_Conventions/Specific_Packages#10.1.3._Shared_MIME_Info" class="urlextern" title="http://en.opensuse.org/Packaging/SUSE_Package_Conventions/Specific_Packages#10.1.3._Shared_MIME_Info"  rel="nofollow">Соглашения_по_пакетам_SUSE/Особые_Пакеты</a>.
</p>
<pre class="code">PreReq:       shared-mime-info
[...]</pre>
<pre class="code">%post
if test -f %{_bindir}/update-mime-database ; then
    %{_bindir}/update-mime-database %{_datadir}/mime &gt;/dev/null
fi</pre>
<pre class="code">%postun
if test -f %{_bindir}/update-mime-database ; then
    %{_bindir}/update-mime-database %{_datadir}/mime &gt;/dev/null
fi</pre>

<p>
Для правильной установки <code>mimelnks</code> в окружении <strong>KDE</strong> требуется ещё одно
дополнение. <strong>KDE</strong> не интересуется <code>mimelnks</code>, установленными в
<em><code>/usr/share/mimelnk/</code></em>, поэтому их надо скопировать в каталог KDE
<em><code>/opt/kde3/mimelnk/</code></em>. Это производится в <acronym title="specification">spec</acronym>-файле rpm-пакета внутри
раздела %install.
</p>
<pre class="code">%install
%makeinstall
kdemimedir=$(kde-config --install mime)
if test %{_datadir} != $kdemimedir ; then
    mkdir -p $RPM_BUILD_ROOT$kdemimedir
    mv $RPM_BUILD_ROOT%{_datadir}/mimelnk/* $RPM_BUILD_ROOT$kdemimedir
    rmdir $RPM_BUILD_ROOT%{_datadir}/mimelnk
fi</pre>

</div>
<!-- EDIT339 SECTION "Замечания о spec-файле rpm-пакета" [3719-5534] -->
<h3 class="sectionedit340"><a name="ручная_установка_rpm-пакетов" id="ручная_установка_rpm-пакетов">Ручная установка rpm-пакетов</a></h3>
<div class="level3">

<p>
Тем, кто не использует для установки <strong>YaST</strong>, нужно вручную выполнить команду
<strong>SuSEconfig</strong> после установки или удаления любого rpm-пакета. Можно
запустить либо команду верхнего уровня <strong>SuSEconfig</strong>:
</p>
<pre class="code">/sbin/SuSEconfig</pre>

<p>
либо только необходимые утилиты конфигурации более низкого уровня
(их две):
</p>
<pre class="code">/sbin/conf.d/SuSEconfig.desktop-file-utils</pre>

<p>
которая вызывает
</p>
<pre class="code">/usr/bin/update-desktop-database</pre>

<p>
и
</p>
<pre class="code">/sbin/conf.d/SuSEconfig.gtk2</pre>

<p>
которая вызывает
</p>
<pre class="code">/usr/bin/gtk-update-icon-cache --quiet --ignore-theme-index --remove-empty-cache &quot;$SUBDIR&quot;</pre>

</div>
<!-- EDIT340 SECTION "Ручная установка rpm-пакетов" [5535-] --></body>
</html>
